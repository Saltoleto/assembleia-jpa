<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:b="http://bootsfaces.net/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                template="#{pageContext.request.contextPath}/templates/template.xhtml"
                xmlns:p="http://primefaces.org/ui">

    <f:metadata>
        <f:viewParam name="rel" value="#{sedeControle.titulo}"/>
    </f:metadata>

    <ui:define name="content">  
        <b:form id="cadastro" enctype="multipart/form-data">
            <b:messages/>   
            <b:panel title="#{sedeControle.titulo}" collapsible="false">
                <b:formGroup>
                    <p:graphicImage id="fotoMembro"  cache="false" value="#{sedeControle.fotoBanco}"  style="border: 1px solid #E1E1E1; border-radius: 4px" height="130" width="170"/><br/>
                    <p:fileUpload label="Selecionar Logo"  style="border: none!important; font-size: 12px;"
                                  fileUploadListener="#{sedeControle.fileUploadAction}"  
                                  update="fotoMembro"   auto="true"/> 
                </b:formGroup>
                <b:panelGrid columns="2">                                                                                                 

                    <b:inputText  value="#{sedeControle.congregacao.nome}" label="#{msgs['label.nome']}" required="true" 
                                  required-message="#{msgs['label.informe.nome']}"/>                                               

                    <b:inputText  value="#{sedeControle.congregacao.dirigente}" label="#{msgs['label.dirigente']}" required="true" 
                                  required-message="#{msgs['label.informe.dirigente']}"/> 


                    <b:inputText  mask="99.999.999/9999-99" value="#{sedeControle.congregacao.cnpj}" label="#{msgs['label.cnpj']}" required="true" 
                                  required-message="#{msgs['label.informe.cnpj']}"/>

                    <b:inputText  mask="(99) 9999-9999" value="#{sedeControle.congregacao.telefone}" label="#{msgs['label.telefone']}" required="true" 
                                  required-message="#{msgs['label.informe.telefone']}"/>  

                    <b:inputText  mask="email" value="#{sedeControle.congregacao.email}" label="#{msgs['label.email']}" required="true" 
                                  required-message="#{msgs['label.informe.email']}">
                        <f:facet name="prepend">
                            <h:outputText value="@" />
                        </f:facet>
                    </b:inputText>  

                    <b:selectOneMenu  label="#{msgs['label.estado']}"  required="true" requiredMessage="#{msgs['label.informe.estado']}"   
                                     id="estado" value="#{sedeControle.congregacao.estado}" >
                        <f:selectItem itemLabel="Selecione o Estado" itemValue="Teste" />
                        <f:converter converterId="enumTypeConverter" />
                        <f:selectItems value="#{sedeControle.listaEstado}" var="cl" itemLabel="#{cl.descricao}" itemValue="#{cl}" />
                    </b:selectOneMenu>


                    <b:inputText  value="#{sedeControle.congregacao.cidade}" label="#{msgs['label.cidade']}" required="true" 
                                  required-message="#{msgs['label.informe.cidade']}"/>

                    <b:inputText  value="#{sedeControle.congregacao.bairro}" label="#{msgs['label.bairro']}" required="true" 
                                  required-message="#{msgs['label.informe.bairro']}"/>

                    <b:inputText  value="#{sedeControle.congregacao.endereco}" label="#{msgs['label.endereco']}" required="true" 
                                  required-message="#{msgs['label.informe.endereco']}"/>

                    <b:inputText  mask="999999-999" value="#{sedeControle.congregacao.cep}" label="#{msgs['label.cep']}" required="true" 
                                  required-message="#{msgs['label.informe.cep']}"/> 

                </b:panelGrid>

                <h:panelGrid columns="2" class="pull-right" style="margin-top: 20px">                    
                    <b:commandButton  action="#{sedeControle.voltar()}" immediate="true"  look="warning" value="#{msgs['btn.cancelar']}"/>                                       
                    <b:commandButton  action="#{sedeControle.salvar()}"  look="success" value="#{msgs['btn.salvar']}"/>
                </h:panelGrid>
            </b:panel>
        </b:form>
    </ui:define>
</ui:composition>
