<?xml version="1.0" encoding="UTF-8"?>

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                template="#{pageContext.request.contextPath}/templates/template.xhtml"
                xmlns:b="http://bootsfaces.net/ui"
                xmlns:h="http://java.sun.com/jsf/html"
>
    <f:metadata/>
    <f:viewParam name="rel" value="#{despesaControle.titulo}"/>

    <ui:define name="content">

        <h:form id="cadastro">

            <b:messages/>
            <b:panel title="#{despesaControle.titulo}" collapsible="false">

                <b:panelGrid columns="2">

                    <b:inputText value="#{despesaControle.despesa.descricao}" label="#{msgs['label.descricao']}"
                                 required="true" required-message="#{msgs['label.descricao']}"/>

                    <b:dateTimePicker show-time="false" value="#{despesaControle.despesa.data}" label="#{msgs['label.data']}"
                                         required="true" required-message="#{msgs['label.data']}"/>

                    <b:selectOneMenu  id="tipoDespesa" label="#{msgs['label.tipo']}" value="#{despesaControle.despesa.tipoDeDespesa}">
                        <f:selectItem itemLabel="#{msgs['label.selecione.tipo']}" itemValue="" noSelectionOption="true"/>
                        <f:selectItems value="#{despesaControle.tipoDeDespesas}" var="tipo" itemValue="#{tipo}" itemLabel="#{tipo.descricao}" />
                    </b:selectOneMenu>

                    <b:inputText  class="moneyClass" value="#{despesaControle.despesa.valor}"
                                  label="#{msgs['label.valor']}"  required="true" required-message="#{msgs['label.valor']}">
                        <f:convertNumber maxFractionDigits="2" minFractionDigits="2" />
                    </b:inputText>

                    <b:selectOneMenu  id="fornecedor" label="#{msgs['label.selecione.fornecedor']}" value="#{despesaControle.despesa.fornecedor}">
                        <f:selectItem itemLabel="#{msgs['label.selecione.fornecedor']}" itemValue="" noSelectionOption="true"/>
                        <f:selectItems value="#{despesaControle.fornecedores}" var="fornecedor" itemValue="#{fornecedor}" itemLabel="#{fornecedor.nome}" />
                    </b:selectOneMenu>

                    <b:selectOneMenu  id="departamento" label="#{msgs['label.departamento']}" value="#{despesaControle.despesa.departamento}">
                        <f:selectItem itemLabel="#{msgs['label.selecione.departamento']}" itemValue="" noSelectionOption="true"/>
                        <f:selectItems value="#{despesaControle.departamentos}" var="tipo" itemValue="#{tipo}" itemLabel="#{tipo.nome}" />
                    </b:selectOneMenu>

                    <b:inputText value="#{despesaControle.despesa.parcelas}" disabled="#{despesaControle.desabilitaParcela == true}" label="#{msgs['label.parcelas']}"
                                 required="true" required-message="#{msgs['label.parcelas']}"/>

                    <b:switch value="#{despesaControle.despesa.pago}"  off-text="NÃ£o" on-text="Sim" label="#{msgs['label.pago']}" offColor="danger" onColor="success"  />

                </b:panelGrid>
                <h:panelGrid columns="2" class="pull-right" style="margin-top: 20px">
                    <b:commandButton action="#{despesaControle.voltar()}" immediate="true"  look="warning" value="#{msgs['btn.cancelar']}"/>
                    <b:commandButton action="#{despesaControle.salvar()}" look="success" value="#{msgs['btn.salvar']}"/>
                </h:panelGrid>
            </b:panel>
        </h:form>

    </ui:define>
</ui:composition>
